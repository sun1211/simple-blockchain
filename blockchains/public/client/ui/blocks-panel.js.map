{"version":3,"file":"blocks-panel.js","sourceRoot":"","sources":["../../../src/client/ui/blocks-panel.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,qDAAqD,CAAC;AAC7E,OAAO,EAAE,IAAI,EAAkB,MAAM,4CAA4C,CAAC;AAElF,OAAO,EAAY,kBAAkB,EAAc,MAAM,aAAa,CAAC;AAEvE,MAAM,OAAO,WAAW;IACtB,YAAqB,gBAA0B;QAA1B,qBAAgB,GAAhB,gBAAgB,CAAU;QAY9B,oBAAe,GAAG,CAAC,KAAY,EAAE,KAAa,EAAkB,EAAE;YACjF,MAAM,qBAAqB,GAAG,kBAAkB,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;YACrE,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,kBAAkB,EAAE,CAAC;YAEjE,OAAO,IAAI,CAAA;;;wCAGyB,KAAK;2CACF,SAAS;;;;;6CAKP,KAAK,CAAC,YAAY;;;;6CAIlB,KAAK,CAAC,IAAI;;;;;6CAKV,qBAAqB;;;KAG7D,CAAC;QACJ,CAAC,CAAC;IAtCgD,CAAC;IAEnD,MAAM,CAAC,MAAyB;QAC9B,OAAO,IAAI,CAAA;;;sCAGuB,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC;;;KAGlF,CAAC;IACJ,CAAC;CA6BF","sourcesContent":["import { repeat } from '../../../node_modules/lit-html/directives/repeat.js';\r\nimport { html, TemplateResult } from '../../../node_modules/lit-html/lit-html.js';\r\nimport { Block } from '../lib/blockchain-node.js';\r\nimport { Callback, formatTransactions, Renderable } from './common.js';\r\n\r\nexport class BlocksPanel implements Renderable<Readonly<Block[]>> {\r\n  constructor(readonly requestRendering: Callback) {}\r\n\r\n  render(blocks: Readonly<Block[]>): TemplateResult {\r\n    return html`\r\n      <h2>Current blocks</h2>\r\n      <div class=\"blocks\">\r\n        <div class=\"blocks__ribbon\">${repeat(blocks, b => b.hash, this.singleBlockCard)}</div>\r\n        <div class=\"blocks__overlay\"></div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private readonly singleBlockCard = (block: Block, index: number): TemplateResult => {\r\n    const formattedTransactions = formatTransactions(block.transactions);\r\n    const timestamp = new Date(block.timestamp).toLocaleTimeString();\r\n\r\n    return html`\r\n      <div class=\"block\">\r\n        <div class=\"block__header\">\r\n          <span class=\"block__index\">#${index}</span>\r\n          <span class=\"block__timestamp\">${timestamp}</span>\r\n        </div>\r\n        <div class=\"block__hashes\">\r\n          <div class=\"block__hash\">\r\n            <div class=\"block__label\">‚Üê PREV HASH</div>\r\n            <div class=\"block__hash-value\">${block.previousHash}</div>\r\n          </div>\r\n          <div class=\"block__hash\">\r\n            <div class=\"block__label\">THIS HASH</div>\r\n            <div class=\"block__hash-value\">${block.hash}</div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div class=\"block__label\">TRANSACTIONS</div>\r\n          <pre class=\"block__transactions\">${formattedTransactions}</pre>\r\n        </div>\r\n      </div>\r\n    `;\r\n  };\r\n}\r\n"]}